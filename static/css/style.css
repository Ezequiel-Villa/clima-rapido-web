/* ===== Paleta Colores (solicitada) ===== */
:root{
  --c1: #4d759e; /* principal */
  --c2: #9cb1cd;
  --c3: #c2cde5;
  --c4: #e8ddef;
  --c5: #f5eef6;

  --text: #0f172a;
  --muted: #55647a;
  --border: #d9e0ea;
  --radius: 14px;
  --shadow: 0 10px 30px rgba(13, 29, 54, .10);

  --error: #b91c1c;         /* rojo accesible para errores */
  --error-bg: #fde2e2;
}

*{ box-sizing: border-box }
html,body{
  margin:0; padding:0;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  color: var(--text);
  background-color: var(--c5);
  background-image:
    radial-gradient(1600px 800px at 50% -200px, rgba(156, 177, 205, 0.35), transparent 70%),
    radial-gradient(1400px 700px at 100% -120px, rgba(200, 213, 229, 0.4), transparent 65%),
    linear-gradient(180deg, var(--c5), var(--c4));
  background-attachment: fixed;
  background-repeat: no-repeat;
}

/* ===== Layout ===== */
.container{
  max-width: clamp(320px, 92vw, 1040px);
  margin: clamp(18px, 5vw, 48px) auto;
  padding: clamp(18px, 5vw, 32px);
}

/* ===== Header ===== */
.header{
  display:flex;
  align-items:center;
  justify-content: space-between;       /* <- separa izquierda/derecha */
  gap:14px;

  padding: 22px 20px;
  border:1px solid var(--border);
  border-radius: var(--radius);
  background: linear-gradient(135deg, var(--c4), var(--c5));
  box-shadow: var(--shadow);
  animation: fadeIn .45s ease-out both;
}
.header h1{ margin:0; font-size:1.4rem; }

.header-left{ display:flex; align-items:center; gap:14px; }
.header-right{ display:flex; align-items:center; gap:12px; margin-left:auto; }

.badge{
  display:inline-flex; align-items:center; gap:6px;
  border:1px solid var(--border);
  color:#21486c;
  padding:4px 10px; border-radius:999px; font-size:.82rem;
  background:#fff;
  box-shadow: 0 2px 10px rgba(77,117,158,.18);
  animation: float 4s ease-in-out infinite;
}

.chip,
.clock,
.kpi.hist-btn{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:6px 10px;
  border:1px solid var(--border);
  border-radius:999px;
  background:#fff;
}

.card{
  background:#fff;
  border:1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 20px;
  margin-top: 16px;
  animation: fadeInUp .45s ease-out both;
}

.support-card{
  display:grid;
  gap:18px;
}

.support-card h2{
  margin:0;
  font-size:1.3rem;
}

.support-card h3{
  margin:0 0 6px;
  font-size:1.05rem;
  color:#213a57;
}

.support-card p{ margin:0; }

.support-tips,
.support-links{
  margin:0;
  padding:0;
  list-style:none;
  display:grid;
  gap:14px;
}

.support-tips li{
  display:flex;
  gap:12px;
  border:1px solid rgba(15, 23, 42, .08);
  border-radius:12px;
  padding:12px 14px;
  background: linear-gradient(135deg, rgba(200, 213, 229, .35), rgba(245, 238, 246, .6));
}

.support-icon{
  font-size:1.6rem;
  line-height:1;
}

.support-links li{
  padding:10px 12px;
  border-radius:10px;
  border:1px solid rgba(15, 23, 42, .08);
  background:#fff;
  transition: border-color .18s ease, box-shadow .18s ease;
}

.support-links a{
  color: #1e3a5f;
  font-weight:600;
  text-decoration:none;
}

.support-links a:focus,
.support-links a:hover{
  text-decoration:underline;
}

.support-links li:focus-within,
.support-links li:hover{
  border-color: var(--c2);
  box-shadow: 0 6px 16px rgba(13, 29, 54, .1);
}

label{ display:block; margin:10px 0 6px; font-weight:600; color:#213a57; }
input, select, button{
  width:100%;
  border:1px solid var(--border);
  background:#fff;
  color:var(--text);
  padding: 12px 12px;
  border-radius: 12px;
  font-size: 16px;
  transition: border-color .2s, box-shadow .2s, transform .02s;
}
input:focus, select:focus{
  outline:none;
  border-color: var(--c2);
  box-shadow: 0 0 0 4px rgba(156, 177, 205, .25);
}
input.invalid{
  border-color: var(--error);
  box-shadow: 0 0 0 3px rgba(185, 28, 28, .15);
}
.field-error{
  margin-top: 6px;
  color: var(--error);
  background: var(--error-bg);
  border: 1px solid var(--error);
  border-radius: 8px;
  padding: 6px 10px;
  font-size: .9rem;
  display: none; /* visible solo cuando haya error */
}

.row{ display:grid; grid-template-columns: 2fr 1fr 1fr; gap: 12px; }
@media (max-width: 760px){ .row{ grid-template-columns: 1fr; } }

.actions{ margin-top:16px; display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
button{
  display:inline-flex; align-items:center; gap:8px; width:auto; cursor:pointer;
  background: var(--c1); color:#fff; border:none; padding: 12px 16px; font-weight:600;
}
button:hover{ background: #43698e; }
button:active{ transform: translateY(1px); }
button[disabled]{ opacity:.7; cursor:not-allowed; }
.btn-label{ display:inline-block; }

.tip{ color: var(--muted); font-size:.92rem; }

/* ===== Resultado (clima actual) ===== */
.result{
  margin-top:18px; padding:16px;
  border:1px dashed var(--border);
  border-radius: 12px; background: var(--c5);
  min-height:96px;
}
.muted{ color: var(--muted); }

.weather-current{
  display:grid;
  gap:18px;
}

.weather-header{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap:18px;
  flex-wrap:wrap;
}

.weather-location{
  display:grid;
  gap:4px;
}

.weather-location h2{
  margin:0;
  font-size:1.5rem;
}

.weather-details{
  display:grid;
  gap:12px 16px;
  grid-template-columns: 1fr;
}

.weather-details div{
  padding:12px;
  border-radius:10px;
  background:#fff;
  border:1px solid rgba(15, 23, 42, .08);
  box-shadow: 0 2px 6px rgba(2, 6, 23, .04);
}

.weather-details dt{
  margin:0;
  font-weight:600;
  color:#213a57;
}

.weather-details dd{
  margin:4px 0 0;
  font-size:1.1rem;
  font-weight:500;
}

@media (min-width: 680px){
  .weather-details{
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

/* ===== Indicadores adicionales ===== */
.insights{
  margin-top: 20px;
  display: grid;
  gap: 14px;
}

.insights h3{
  margin: 0;
  font-size: 1.1rem;
  color: #213a57;
}

.insights-grid{
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 14px;
}

.insight-card{
  background: #fff;
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 16px;
  box-shadow: 0 6px 16px rgba(15, 23, 42, .08);
  display: grid;
  gap: 6px;
  transition: transform .15s ease, box-shadow .15s ease;
}

.insight-card:hover{
  transform: translateY(-2px);
  box-shadow: 0 10px 24px rgba(15, 23, 42, .12);
}

.insight-card h4{
  margin: 0;
  font-size: 1rem;
  color: #21486c;
}

.insight-value{
  margin: 0;
  font-size: 1.4rem;
  font-weight: 600;
  color: #0f172a;
}

@media (max-width: 720px){
  .insights-grid{
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  }
}

@media (max-width: 520px){
  .insights-grid{
    grid-template-columns: 1fr;
  }
}

.cache-indicator{
  margin-top:8px;
  font-size:.95rem;
  color:#27415d;
  font-weight:600;
  letter-spacing:.01em;
}

/* Etiquetas tipo "pill" */
.kpi{ display:inline-block; padding:6px 10px; background:#fff; border:1px solid var(--border); border-radius: 10px; }
.kpi b{ color: var(--muted); }

/* ===== Pronóstico 5 días ===== */
.forecast-grid{
  display:grid;
  grid-template-columns: repeat(auto-fill,minmax(140px,1fr));
  gap:12px;
  margin-top:16px;
}
.forecast-card{
  border:1px solid var(--border);
  border-radius:12px;
  padding:12px;
  background:#fff;
  text-align:center;
  box-shadow: 0 2px 8px rgba(2,6,23,.05);
  position: relative;
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
  will-change: transform;                 /* optimiza */
  transform-origin: center;
  outline: none;
}
.forecast-card-header{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:2px;
  margin-bottom:8px;
}
.forecast-card h3{
  margin:0;
  font-size:1.05rem;
  font-weight:700;
  color:#213a57;
}
.forecast-card img{ width:64px; height:64px }
.forecast-temps{
  display:flex;
  justify-content:center;
  gap:8px;
  margin:10px 0 6px;
}
.temp-badge{
  display:inline-flex;
  align-items:center;
  gap:4px;
  padding:4px 8px;
  border-radius:999px;
  font-size:.9rem;
  font-weight:600;
  letter-spacing:.01em;
  border:1px solid transparent;
}
.temp-badge.max{
  background: rgba(220, 72, 48, .12);
  color:#b2341e;
  border-color: rgba(220, 72, 48, .35);
}
.temp-badge.min{
  background: rgba(47, 128, 237, .12);
  color:#1f5c9c;
  border-color: rgba(47, 128, 237, .35);
}
.forecast-card:focus-visible{
  transform: translateY(-2px) scale(1.04);
  box-shadow: 0 12px 24px rgba(13, 29, 54, .12), 0 0 0 3px rgba(156, 177, 205, .45);
  border-color: var(--c3);
}

/* Hover: zoom + sombra */
@media (hover: hover) and (pointer: fine){
  .forecast-card:hover{
    transform: translateY(-2px) scale(1.04);
    box-shadow: 0 12px 24px rgba(13, 29, 54, .12);
    border-color: var(--c3);
    z-index: 1;                           /* que se vea por encima */
  }
}



/* ===== Animaciones ===== */
.spinner{
  width:20px; height:20px;
  border:3px solid var(--c4); border-top-color: var(--c1);
  border-radius: 50%; animation: spin .8s linear infinite;
}
.skeleton{
  position:relative; overflow:hidden;
  background: linear-gradient(90deg, var(--c4) 25%, var(--c5) 37%, var(--c4) 63%);
  background-size: 400% 100%;
  animation: shimmer 1.4s ease-in-out infinite;
  border-radius: 8px;
}
.skel-line{ height:14px; margin:10px 0; }
.skel-line.tall{ height:24px; width:50%; }

.pop-in{ animation: pop .35s ease-out both; }

/* Noscript */
.noscript-note{
  max-width:960px; margin:12px auto; padding:10px 20px;
  color:#234; background:#fff; border-left:5px solid var(--c3);
  border:1px solid var(--border); border-radius:10px;
}

/* ===== Keyframes ===== */
@keyframes fadeIn{ from{opacity:0} to{opacity:1} }
@keyframes fadeInUp{ from{opacity:0; transform: translateY(6px)} to{opacity:1; transform:translateY(0)} }
@keyframes pop{ from{ transform: scale(.98); opacity:.6 } to{ transform: scale(1); opacity:1 } }
@keyframes spin{ to{ transform: rotate(360deg) } }
@keyframes shimmer{ 0%{ background-position: 200% 0 } 100%{ background-position: -200% 0 } }
@keyframes float{ 0%,100%{ transform: translateY(0) } 50%{ transform: translateY(-3px) } }



/* Header: separa izquierda/derecha */


/* Reloj (chip) */
.clock{
  font-variant-numeric: tabular-nums;
  min-width:92px;
  justify-content:center;
  box-shadow: 0 2px 8px rgba(2,6,23,.06);
  color:#1e3a5f;
}

/* Pildorita de hora de la ciudad (opcional, dentro del resultado) */
.kpi.clock-pill{
  display:inline-flex; align-items:center; gap:6px;
}
.kpi.clock-pill .dot{ font-size: 14px; }

/* --- Chips del historial --- */
.kpi { color: var(--text); }  /* asegura texto oscuro por defecto */

.full-bleed{
  margin-left: calc(50% - 50vw);
  margin-right: calc(50% - 50vw);
  border-radius: 0;
  padding-inline: clamp(16px, 4vw, 60px);
}

/* === Historial CRUD === */
.history-card .history-top{
  display:flex; align-items:center; justify-content: space-between;
  margin-bottom: 8px;
}
.history-card .chip-list{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
}
.kpi.hist-btn{
  gap:8px;
  background: var(--c4);       /* pasteles azules de tu paleta */
  color: #1e3a5f;              /* texto más contrastado */
  border-color: var(--c3);
  transition: transform .05s, background-color .15s;
  cursor: pointer; user-select: none;
}
.kpi.hist-btn:hover{ background: var(--c3); }
.kpi.hist-btn:active{ transform: translateY(1px); }
.kpi.hist-btn:focus-visible{
  outline: none;
  box-shadow: 0 0 0 3px rgba(156, 177, 205, .45);
}
.kpi.hist-btn .chip-name{ pointer-events: none; } /* click pasa al chip */

.kpi.hist-btn .chip-actions{
  display:inline-flex; align-items:center; gap:6px;
  margin-left: 4px;
}
.kpi.hist-btn .chip-actions button{
  border:0; background:transparent; cursor:pointer; padding:0 4px;
  font-size: 14px; line-height: 1; color:#1e3a5f; opacity:.75;
}
.kpi.hist-btn .chip-actions button:hover{ opacity:1; }
.kpi.hist-btn .chip-actions button:focus-visible{
  outline: none; box-shadow: 0 0 0 2px rgba(156, 177, 205, .45);
  border-radius:6px;
}
.kpi.hist-btn .chip-pin.pinned{ color:#b58900; } /* dorado para anclado */

.clear-history-btn{
  background:#fff; color:#1e3a5f; border-color: var(--c3);
}
.clear-history-btn:hover{ background: var(--c5); }


